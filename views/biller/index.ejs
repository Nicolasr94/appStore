<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/css/styleBiller.css" />
</head>
<body>
    <p>Facturador</p>
    <h3>Cliente <%= data.cliente.nombre %> --- <%= data.cliente.tipo %></h3>
    
    <div class="search-container">
        <h2>Buscar productos <small>(F2)</small></h2>
        <input id="input-search" type="search"></input>
        <div id="search-bar" class="search-hide search-view" style="position: static;   background-color: red;">
            <div style="position: absolute;  width: 100vw;" >
            <div style="background-color: grey;"> Idea 2 </div>
            <div style="background-color: grey;"> Idea 1</div>
            </div>
        </div>
    </div>
    <table class="biller">
        <thead>
            <td>Cantidad</td>
            <td class="cell-product">Producto</td>
            <td>Precio</td>
            <td>Subtotal</td>
            
            <td>Borrar</td>
        </thead>

        <tbody style="height: 150px; overflow-y: scroll">
        <% let total = 0 %>
        <% let subTotal = 0%>
        <% let dataRender = data%>
        <% dataRender.productos.forEach ((item) => { %>
            <tr class="biller-body"> 
                <td><%=item.cantidad %></td>
                <td class="cell-product"><%=item.nombre %></td>
                <td><%=item.precio %></td>
                <% let subTotal =+ item.precio * item.cantidad  %> 
                <td><%= subTotal %></td>
                <td><button class="delete"></button></td>
                <% total += subTotal  %>
            </tr>
            <%});%>
        </tbody>

            <tfoot class="biller-footer">
                <td></td>
                <td></td>
                <td></td>
                <td><p>TOTAL <br> $ <%= total %></p></td>
                
            </tfoot>
        </table>
        <tr class="td-sold"><button class="sold">Cobrar <br> (F3)</button></tr>
    <footer>

    </footer>
</body>
<script  src="/js/biller/appBiller.js"></script>
</html>